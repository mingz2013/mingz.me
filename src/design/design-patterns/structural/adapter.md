| Title                | Date             | Modified         | Category          |
|:--------------------:|:----------------:|:----------------:|:-----------------:|
| design patterns      | 2019-11-20 12:00 | 2019-11-20 12:00 | design patterns   |

# 适配器(Adapter)


## 意图
将一个类的接口转换成客户希望的另外一个接口。Adapter模式使得原本由于接口不兼容而不能一起工作的那些类可以一起工作。

## 别名
包装器 Wrapper

## 动机
有时，为复用而设计的工具箱类不能够被复用的原因仅仅是因为它的接口与专业应用领域所需要的接口不匹配。

## 适用性
以下情况使用Adapter模式
- 你想使用一个已经存在的类，而它的接口不符合你的需求。
- 你想创建一个可以复用的类，该类可以与其他不想管的类或不可预见的类（即那些接口可能不一定兼容的类）协同工作。
- （仅适用于对象Adapter）你想使用一些已经存在的子类，但是不可能对每一个都进行子类化以匹配它们的接口。对象适配器可以适配它的父类接口。


## 结构
类适配器使用多重继承对一个接口与另一个接口进行匹配，如下图所示。

![](./images/adapter.png)
对象匹配器依赖于对象组合，如下图所示。
![](./images/adapter-02.png)


## 参与者
### Target
定义Client使用的与特定领域相关的接口。
### Client
与符合Target接口的对象协同。
### Adaptee
定义一个已经存在的接口，这个接口需要适配。
### Adapter
对Adaptee的接口与Target接口进行适配



## 协作
Client在Adapter实例上调用一些操作。接着适配器调用Adaptee的操作实现这个请求。

## 效果
类适配器和对象适配器有不同的权衡。类适配器
- 用一个具体的Adapter类对Adaptee和Target进行匹配。结果是当我们想要匹配一个类以及所有它的子类时，类Adapter将不能胜任工作。
- 使得Adapter可以重定义Adaptee的部分行为，因为Adapter是Adaptee的一个子类。
- 仅仅引入了一个对象，并不需要额外的指针以间接得到adaptee。

对象适配器则
- 允许一个Adapter与多个Adaptee--即Adaptee本身以及它的所有子类（如果有子类的话）--同时工作。Adapter也可以一次给所有的Adaptee添加功能。
- 使得重定义Adaptee的行为比较困难。这就需要生成Adaptee的子类并且使得Adapter引用这个子类而不是引用Adaptee本身。


使用Adapter模式时需要考虑的其他一些因素有：
- Adapter的匹配程度
- 可插入的Adapter
- 使用双向适配器提供透明操作


## 实现
- 使用C++实现适配器类
- 可插入的适配器



## 代码示例


## 已知应用

## 相关模式
